var _=(n,s,l)=>new Promise((u,e)=>{var d=o=>{try{a(l.next(o))}catch(r){e(r)}},m=o=>{try{a(l.throw(o))}catch(r){e(r)}},a=o=>o.done?u(o.value):Promise.resolve(o.value).then(d,m);a((l=l.apply(n,s)).next())});import{_ as f,o as h,b as v,m as t,t as y,n as b,I as B,E as V,p as k,w as g,q as M,r as i,d as c,u as L,v as x}from"./vendor.9fb9c1af.js";const E={name:"LoginBox",props:{title:{type:String,required:!0}}},S={class:"h-full pt-4 sm:pt-16"},$=t("div",{class:"flex"},null,-1),C={class:"px-4 py-8 mx-auto bg-white sm:mt-6 sm:w-0112 sm:w-96 sm:px-10 sm:rounded-lg sm:shadow-xl"},q={class:"mb-6 text-center"},I={class:"text-lg"};function N(n,s,l,u,e,d){return h(),v("div",S,[t("div",null,[$,t("div",C,[t("div",q,[t("span",I,y(l.title),1)]),b(n.$slots,"default")])])])}var j=f(E,[["render",N]]);const U={name:"Login",components:{LoginBox:j,Input:B,ErrorMessage:V},data(){return{loading:!1,email:null,password:null,errorMessage:null,successMessage:null,redirect_route:null}},methods:{login(){return _(this,null,function*(){try{this.errorMessage=null,this.loading=!0,this.email&&this.password&&(yield this.$store.dispatch("login",{email:this.email,password:this.password}))&&this.$router.push("/home")}catch(n){console.log("error",n)}finally{this.loading=!1}})}}},z=x(" Submit "),A=t("div",{class:"mt-10 text-center border-t"},[t("div",{class:"transform -translate-y-1/2"},[t("span",{class:"px-2 text-xs leading-8 tracking-wider text-gray-800 bg-white"}," OR ")])],-1),D=x(" Sign up for a new account ");function O(n,s,l,u,e,d){const m=i("Input"),a=i("ErrorMessage"),o=i("Button"),r=i("router-link"),w=i("LoginBox");return h(),k(w,{title:"Log in to your account",class:M({"pointer-events-none":e.loading})},{default:g(()=>[t("form",{class:"flex flex-col",onSubmit:s[2]||(s[2]=L(()=>{},["prevent"]))},[c(m,{modelValue:e.email,"onUpdate:modelValue":s[0]||(s[0]=p=>e.email=p),class:"mb-4",label:"Email",placeholder:"johndoe@mail.com",name:"email",autocomplete:"email",type:e.email!=="Administrator"?"email":"text",required:""},null,8,["modelValue","type"]),c(m,{modelValue:e.password,"onUpdate:modelValue":s[1]||(s[1]=p=>e.password=p),label:"Password",type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",name:"password",autocomplete:"current-password",required:""},null,8,["modelValue"]),c(a,{message:e.errorMessage,class:"mt-4"},null,8,["message"]),c(o,{class:"mt-4 focus:ring-0 focus:ring-offset-0",loading:e.loading,appearance:"primary",onClick:d.login},{default:g(()=>[z]),_:1},8,["loading","onClick"]),A,c(r,{class:"text-base text-center",to:"/signup"},{default:g(()=>[D]),_:1})],32)]),_:1},8,["class"])}var T=f(U,[["render",O]]);export{T as default};
